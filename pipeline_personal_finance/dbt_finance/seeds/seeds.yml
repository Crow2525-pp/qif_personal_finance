version: 2

seeds:
  - name: known_values
    description: Contains known account balances and dates for balance adjustments.
    docs:
      show: true
      node_color: "#34d399"
    config:
      column_types:
        account_name: text
        specific_date: date
        account_balance: numeric
        is_asset: boolean
        is_liquid_asset: boolean
        is_loan: boolean
        is_homeloan: boolean
        is_debt: boolean
    columns:
      - name: account_name
        description: The name of the account.
        tests:
          - unique
          - not_null
      - name: specific_date
        description: The specific date for the known balance.
        tests:
          - not_null
      - name: account_balance
        description: The known balance of the account on the specific date.
        tests:
          - not_null
      - name: is_asset
        description: True if the account represents an asset (e.g., checking, savings, offset).
      - name: is_liquid_asset
        description: True if the asset is liquid and readily accessible.
      - name: is_loan
        description: True if the account is a liability/loan account.
      - name: is_homeloan
        description: True if the loan is specifically a home loan / mortgage.
      - name: is_debt
        description: True if the account is a debt (usually synonymous with loan).

  - name: banking_categories
    description: list of transaction descriptions and their categories. Nulls are wildcards in their searches.
    docs:
      show: true
      node_color: "#34d399"
    config:
      column_types:
        origin_key: text
        transaction_description: text
        transaction_type: text
        sender: text
        recipient: text
        account_name: text
        category: text
        subcategory: text
        store: text
        internal_indicator: text
    columns:
      - name: transaction_description
        description: Describes the nature of the transaction. If null then wildcard.
      - name: transaction_type
        description: Categorizes the transaction by type, such as credit, debit, etc. If null then wildcard.
      - name: sender
        description: Indicates the recipient or destination account of the transaction. If null then wildcard.
      - name: account_name
        description: Identifies the account from which the transaction originated.
        tests:
          - not_null
      - name: category
        description: General classification of the transaction, such as rent, salary, utilities, etc.
      - name: subcategory
        description: More specific classification within a broader category, such as electricity within utilities.

  - name: categories_allowed
    description: Display-allowed level_1 categories and their order for viz.
    docs:
      show: true
      node_color: "#3b82f6"
    config:
      column_types:
        category: text
        display_order: integer
    columns:
      - name: category
        description: Canonical Level 1 category name.
        tests:
          - not_null
          - unique
      - name: display_order
        description: Order in which to display categories.
        tests:
          - not_null

  - name: property_assets
    description: Seed data for property/real estate assets with purchase info and appreciation rates.
    docs:
      show: true
      node_color: "#10b981"
    config:
      column_types:
        asset_id: text
        asset_name: text
        display_name: text
        asset_type: text
        purchase_date: date
        purchase_price: numeric
        appreciation_rate_low: numeric
        appreciation_rate_high: numeric
        currency_code: text
        notes: text
    columns:
      - name: asset_id
        description: Unique identifier for the asset (e.g., ppor)
        tests: [not_null, unique]
      - name: asset_name
        description: Short name to use as account_name in reporting (e.g., PPOR_Property)
        tests: [not_null]
      - name: display_name
        description: Human-readable display name
      - name: asset_type
        description: Asset type such as Property
      - name: purchase_date
        description: Date the asset was purchased (YYYY-MM-DD)
        tests: [not_null]
      - name: purchase_price
        description: Purchase price in currency units
        tests: [not_null]
      - name: appreciation_rate_low
        description: Lower bound annual appreciation rate (e.g., 0.04)
      - name: appreciation_rate_high
        description: Upper bound annual appreciation rate (e.g., 0.07)
      - name: currency_code
        description: Currency code (e.g., AUD)
      - name: notes
        description: Freeform notes about the asset

  - name: recommendation_outcomes
    description: Manually curated list of financial recommendations and their outcomes for accountability tracking.
    docs:
      show: true
      node_color: "#8b5cf6"
    config:
      column_types:
        recommendation_date: date
        recommendation_text: text
        category: text
        target_metric: text
        target_value: numeric
        actual_value: numeric
        outcome_date: date
        status: text
        notes: text
    columns:
      - name: recommendation_date
        description: Date the recommendation was made.
        tests:
          - not_null
      - name: recommendation_text
        description: Text description of the recommendation.
        tests:
          - not_null
      - name: category
        description: Spending or savings category the recommendation targets.
        tests:
          - not_null
      - name: target_metric
        description: The financial metric being targeted.
      - name: target_value
        description: The numeric target value.
      - name: actual_value
        description: Actual value achieved (NULL if pending or in_progress).
      - name: outcome_date
        description: Date outcome was assessed (NULL if pending).
      - name: status
        description: "Outcome status: achieved, in_progress, pending, or abandoned."
        tests:
          - not_null
          - accepted_values:
              values: ['achieved', 'in_progress', 'pending', 'abandoned']
      - name: notes
        description: Freeform notes on the outcome.

  - name: property_valuation_overrides
    description: Optional overrides for property market values by date; latest on/after month is used.
    docs:
      show: true
      node_color: "#10b981"
    config:
      column_types:
        asset_id: text
        valuation_date: date
        market_value: numeric
        currency_code: text
        notes: text
    columns:
      - name: asset_id
        description: Links to property_assets.asset_id
        tests: [not_null]
      - name: valuation_date
        description: Date of the valuation (YYYY-MM-DD)
        tests: [not_null]
      - name: market_value
        description: Valuation amount in currency units
        tests: [not_null]
      - name: currency_code
        description: Currency code (e.g., AUD)
      - name: notes
        description: Freeform notes
